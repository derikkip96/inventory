{% extends "app/base.html" %}
{% load static %}
{% block content %}
    <section class="content">

      <!-- Default box -->

        <div class="row">

          <div class="col-md-offset-3 col-md-6">

            <div class="box box-info">
            <div class="box-header with-border">
              <h3 class="box-title">category_create</h3>
            </div>
            <!-- /.box-header -->
            <!-- form start -->
            <form method="post" id="myform1" class="form-horizontal">
                    {% csrf_token %}
                    {{ form.non_field_errors }}

                      {{ form.source.errors }}
                      {{ form.source }}

              <div class="box-body">
                <div class="form-group">
                  <label class="col-sm-2 control-label require" for="inputEmail3">Category</label>

                  <div class="col-sm-10">
                       {{ form.description.errors }}
                        {{ form.description }}

                    <span id="val_name" style="color: red"></span>
                  </div>
                </div>
                <div class="form-group">
                  <label class="col-sm-2 control-label require" for="inputEmail3">Units</label>

                  <div class="col-sm-10">
                       {{ form.dflt_units.errors }}
                        {{ form.dflt_units }}
                    <span id="val_nn" style="color: red"></span>
                  </div>
                </div>

              </div>
              <!-- /.box-body -->
              <div class="box-footer">
                <a href="#" class="btn btn-default">cancel</a>
                <button class="btn btn-info pull-right" type="submit">submit</button>
              </div>
              <!-- /.box-footer -->
            </form>
          </div>
          </div>

        </div>

        <!-- /.box-footer-->

      <!-- /.box -->

    </section>
{% endblock %}

{% block js %}
    <script type="text/javascript">
        $('#myform1').on('submit',function(e) {
                var flag = 0;
                $('.valdation_check').each(function() {
                    var id = $(this).attr('id');
                    console.log($('#'+id).val());
                    if($('#'+id).val() == '')
                    {
                        $('#val_'+id).html("required");
                        flag = 1;
                    }
                });
                $('.valdation_select').each(function() {
                    var id = $(this).attr('id');
                    //console.log($('#'+id).val());
                    if ($('#'+id).val() == '') {

                        $('#val_'+id).html("required");
                        flag = 1;
                        //console.log('country '+flag);
                    }
                });
                if (flag == 1) {
                    e.preventDefault();
                }
        });
        $(".valdation_check").on('keypress keyup',function() {
            var nm = $(this).attr("id");
            $('#val_'+nm).html("");
        });
        $(".valdation_select").on('click',function() {
            var nm = $(this).attr("id");
            $('#val_'+nm).html("");
        });
    </script>
{% endblock %}



